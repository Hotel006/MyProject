<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>欢迎页面-L-admin1.0</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
		<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" href="../../../css/font.css">
		<link rel="stylesheet" href="../../../css/xadmin.css">
		<link rel="stylesheet" type="text/css" href="../../../lib/layui/css/modules/layer/default/layer.css"/>
		<script src="../../../js/shop/chenkin/JQuey.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../../lib/layui/lay/modules/layer.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div class="x-body layui-anim layui-anim-up">
			<blockquote class="layui-elem-quote">欢迎管理员：
				<span class="x-red">test</span>！
				<label id="#clock"></label>
			</blockquote>
			<fieldset class="layui-elem-field">
				<legend>系统通知</legend>
				<div class="layui-field-box">
					<table id="table" border="1" width="600" cellspacing="0" cellpadding="0" class="layui-table" lay-skin="line">

						<tr>
							<td onclick="" style="background-color: ;"> </td>
						</tr>
					</table>
				</div>
			</fieldset>
			<script>
				var html = '';
				for (var i = 0; i < 10; i++) {
					var t = new Date();
					var mont = t.getMonth() + 1;
					var nday = t.getDate();

					console.log(ntime);
					html += '<tr>'
					for (var j = 0; j < 5; j++) {
						if (i == 0 && j == 0) {
							html += '<td οnmοusemοve="removeClassType(this)" data-index="' + i + '-' + j + '">room/time</td>'
						} else if (j == 0) {
							html += '<td data-index="' + i + '-' + j + '">10' + i + '</td>'
						} else if (i == 0) {
							var ntime = mont + '-' + (nday + j - 1);
							html += '<td data-index="' + i + '-' + j + '">' + ntime + '</td>'
							console.log(ntime);
						} else {
							html += '<td onclick="tanchuang(this)" data-index="' + i + '-' + j + '"></td>'
						}
					}
					html += '</tr>'
				}
				document.getElementById("table").innerHTML = html;


				var table = document.getElementById("table");
				if (table.rows.length > 0) {
					var rows = table.rows;
					for (var i = 0; i < rows.length; i++) {
						(function(i) {
							var tds = rows[i];
							for (var j = 0; j < tds.cells.length; j++) {
								var obj = tds.cells[j];
								obj.onmouseover = function(e) {
									var val = this.getAttribute('data-index');
									var x = val.split('-')[0];
									var y = val.split('-')[1];
									console.log(val)

									var tds = document.getElementsByTagName("td");
									
									for (var k = 0; k < tds.length; k++) {
										
										tds[k].style.backgroundColor = "#fff";
									}

									table.rows[i].style.backgroundColor = "red";

									for (var k = 0; k <= y; k++) {
										table.rows[x].cells[k].style.backgroundColor = "#D2E9FF";
									}
									for (var k = 0; k < x; k++) {
										table.rows[k].cells[y].style.backgroundColor = "#D2E9FF";

									}

								};
							}
						})(i)
					}

				}

				function tanchuang($this) {
					var val1 = $($this).attr('data-index');
					var x1 = val1.split('-')[0];
					var y1 = val1.split('-')[1];
					alert("我是第" + x1 + "行，第" + y1 + "列");
					layer.open({
					  type: 2,
					  title: '入住',
					  shadeClose: true,
					  shade: 0.8,
					  area: ['550px', '90%'],
					  content: 'checkin.html' //iframe的url
					}); 
				}
				
					function showTime() {
					var t = new Date();
					var year = t.getFullYear(); //年
					var month = t.getMonth(); //月
					var day = t.getDate(); //日
					var week = t.getDay(); //星期
					var arr = new Array("星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六");
					var hour = t.getHours();
					var min = t.getMinutes();
					var second = t.getSeconds();
					var showTime = year + '/' + month + '/' + day + ' ' + arr[week] + ' ' + hour + ((min < 10) ? ":0" : ":") + min + (
						(second < 10) ? ":0" : ":") + second;
					document.getElementById('#clock').innerHTML = showTime;
				}
				
				function hotel() {
					$.ajax("CheckServlet.do",function(ajax)){
						if (json.result) {
							
						}
					}
				}
				
				
				
				
				$(function() {
					setInterval(showTime, 1000);
				});
			</script>

	</body>
</html>
